(this["webpackJsonptvmaze-api"]=this["webpackJsonptvmaze-api"]||[]).push([[0],[,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(5),o=n.n(s),r=(n(11),n(2)),i=(n(12),n.p+"static/media/logoTVMAZE.c76d5e46.png"),l=(n(13),n.p+"static/media/SearchBtn.8ee53195.svg"),m=n(0);function u(e){var t=e.changeBusqueda,n=e.busqueda,a=e.setShowId,s=Object(c.useState)(!1),o=Object(r.a)(s,2),i=o[0],u=o[1],j=function(e){u("focus"===e.type)},d={border:i?"2px solid #288e83":"none"};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"buscador",style:d,children:[Object(m.jsx)("form",{onSubmit:function(e){return e.preventDefault()},children:Object(m.jsx)("input",{onChange:function(e){t(e.target.value),a(null)},value:n,type:"text",placeholder:"Write the name of the serie or movie...",onFocus:j,onBlur:j})}),Object(m.jsx)("button",{type:"submit",disabled:!0,className:"searchBtn",children:Object(m.jsx)("img",{src:l,alt:"searchBtn"})})]})})}n(15);function j(e){var t=e.changeBusqueda,n=e.busqueda,c=e.setShowId,a={maxWidth:"530px",width:""===n?"50%":"120px",height:"80%",marginRight:""===n?"0px":"20px",cursor:""===n?"auto":"pointer"},s={flexDirection:""===n?"column":"row",alignItems:""===n?"center":"space-between",justifyContent:""===n?"space-between":"center",marginTop:""===n?"15vh":"5vh",height:""===n?"40vh":"5vh"};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"header inicio",style:s,children:[Object(m.jsx)("div",{style:a,className:"logo",onClick:function(){t(""),c(null)},children:Object(m.jsx)("img",{src:i,alt:"logo"})}),Object(m.jsx)(u,{changeBusqueda:t,busqueda:n,setShowId:c,style:{marginTop:"20px 0px"}})]})})}function d(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{style:{position:"fixed",left:"0%",bottom:"0%",background:"rgba(5,0,0,0.3)",backdropFilter:"blur(20px)",width:"100%",padding:"0px 20px",boxSizing:"border-box"},children:Object(m.jsx)("p",{style:{fontFamily:"Roboto",fontSize:"1rem",color:"white"},children:"Made by Jos\xe9 Eduardo Berm\xfadez Garavito | React JS"})})})}n(16);function b(e){var t=e.title,n=e.imgUrl,c=e.id,a=e.setShowId,s={background:"url(".concat(n,")"),backgroundSize:"cover"};return Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"media",onClick:function(){a(c)},children:[Object(m.jsx)("div",{className:"media-img",style:s}),Object(m.jsx)("p",{children:t})]})})}n(17);function h(){return Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"loaderContainer",children:Object(m.jsx)("div",{className:"loader"})})})}var x=n(4),O=n.n(x),p=n(6),g=function(e,t,n,a){var s=Object(c.useState)(null),o=Object(r.a)(s,2),i=o[0],l=o[1],m=Object(c.useState)(!0),u=Object(r.a)(m,2),j=u[0],d=u[1],b=Object(c.useState)(null),h=Object(r.a)(b,2),x=h[0],g=h[1],f=new FormData;return f.append("data",JSON.stringify(t)),t=void 0===t?null:f,a=a||"cors",n=n||"GET",Object(c.useEffect)((function(){(function(){var e=Object(p.a)(O.a.mark((function e(c){var s,o;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c,{method:n,mode:a,body:t});case 3:if((s=e.sent).ok){e.next=6;break}throw new Error({err:!0,status:s.status,statusText:s.statusText?s.statusText:"Ha ocurrido un error"});case 6:return e.next=8,s.json();case 8:o=e.sent,l(o),d(!1),g({err:!1}),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),d(!0),g(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}})()(e)}),[e]),{data:i,isPending:j,error:x}};n(19);function f(e){var t=e.name,n=e.mail,c=e.comment,a=e.commentId,s=e.setCommentId,o=e.setDeletingComment;return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("span",{style:{display:"flex",position:"relative",top:"30px",left:"90%",backgroundColor:"#289389",boxShadow:"0px 4px 4px rgb(0 0 0 / 25%)",borderRadius:"100px",width:"32px",height:"32px",justifyContent:"center",alignItems:"center",cursor:"pointer"},onClick:function(){s(a),o(!0)},children:"X"}),Object(m.jsx)("hr",{style:{border:"2px solid #289389"}}),Object(m.jsx)("h2",{style:{margin:"0px"},children:t}),Object(m.jsx)("p",{style:{margin:"0px"},children:n}),Object(m.jsx)("p",{children:c})]})}n(20);function v(e){var t=e.urlComments,n=e.name,c=e.mail,a=e.comment,s=e.setName,o=e.setMail,r=e.setComment,i="",l="";return!1===g(t,{name:n,mail:c,comment:a},"POST","cors").isPending?(i="El comentario se creo correctamente",l="success",s(""),o(""),r("")):(i="Un error ha ocurrido.",l="error"),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("div",{className:"message ".concat(l),children:i})})}n(21);function w(e){var t=e.showId,n=e.updateComments,a=Object(c.useState)(""),s=Object(r.a)(a,2),o=s[0],i=s[1],l=Object(c.useState)(""),u=Object(r.a)(l,2),j=u[0],d=u[1],b=Object(c.useState)(""),h=Object(r.a)(b,2),x=h[0],O=h[1],p=Object(c.useState)(!1),g=Object(r.a)(p,2),f=g[0],w=g[1],I=function(e){"name"===e.target.name?i(e.target.value):"mail"===e.target.name?d(e.target.value):"comment"===e.target.name&&O(e.target.value),w(!1)},S="http://localhost/api/commentstvmaze.php?showId=".concat(t,"&operation=post");return Object(m.jsxs)(m.Fragment,{children:[f&&Object(m.jsx)(v,{urlComments:S,name:o,mail:j,comment:x,setName:i,setMail:d,setComment:O,updateComments:n}),Object(m.jsx)("h2",{children:"COMMENTS"}),Object(m.jsx)("p",{children:"Add comments:"}),Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(!0),n()},children:[Object(m.jsx)("input",{type:"text",placeholder:"Name",autoComplete:"off",name:"name",onChange:I,value:o}),Object(m.jsx)("input",{type:"mail",placeholder:"Email",autoComplete:"off",name:"mail",onChange:I,value:j}),Object(m.jsx)("textarea",{placeholder:"Write your comment here",autoComplete:"off",name:"comment",onChange:I,value:x}),Object(m.jsx)("input",{type:"submit",value:"SUBMIT"})]})]})}function I(e){var t=e.commentId,n=e.setCommentId,c=e.setDeletingComment,a=e.showId,s=e.updateComments,o="http://localhost/api/commentstvmaze.php?showId=".concat(a,"&operation=delete");return!1===g(o,{commentId:t},"POST").isPending&&(c(!1),n(0),s()),Object(m.jsx)(m.Fragment,{children:Object(m.jsx)("span",{})})}function S(e){var t=e.showId,n=Object(c.useState)(1),a=Object(r.a)(n,2),s=a[0],o=a[1],i=Object(c.useState)("http://localhost/api/commentstvmaze.php?showId=".concat(t,"&operation=get&reload=").concat(s)),l=Object(r.a)(i,2),u=l[0],j=l[1],d=Object(c.useState)(!1),b=Object(r.a)(d,2),x=b[0],O=b[1],p=Object(c.useState)(0),v=Object(r.a)(p,2),S=v[0],y=v[1],C=g(u),N=void 0;N=null!==C.data?Object.keys(C.data).map((function(e){return C.data[e]})):[];var k=null;k=C.isPending?Object(m.jsx)(h,{}):Object(m.jsx)("span",{}),null!==C.error&&"Failed to fetch"===C.error.message&&(k=Object(m.jsxs)("h2",{children:["Comments could not be loaded. The comments server is not working. ",C.error.message]}));var F=function(){o(s+1),j("http://localhost/api/commentstvmaze.php?showId=".concat(t,"&operation=get&reload=").concat(s+1))};return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(w,{showId:t,updateComments:F}),k,N.map((function(e){return Object(m.jsx)(f,{name:e.name,mail:e.mail,comment:e.comment,commentId:e.commentId,setCommentId:y,setDeletingComment:O},e.commentId)})),0===N.length&&Object(m.jsx)("h2",{children:"There are no comments for this show"}),x&&Object(m.jsx)(I,{showId:t,commentId:S,setCommentId:y,setDeletingComment:O,updateComments:F})]})}var y=function(e){return Object(m.jsx)("span",{style:{fontWeight:"bold"},children:e.text})};function C(e){var t,n,c=e.showId,a=e.setShowId,s="",o="https://api.tvmaze.com/shows/".concat(c),r=g(o),i=r.data,l=r.isPending;null!==i&&(s=null!==i.image?i.image.original:"https://static.tvmaze.com/images/no-img/no-img-portrait-text.png");var u=null;return u=l?Object(m.jsx)(h,{}):Object(m.jsx)("span",{}),Object(m.jsx)(m.Fragment,{children:Object(m.jsxs)("div",{className:"MediaInfo",children:[Object(m.jsx)("h2",{onClick:function(){return a(null)},className:"h2-link",children:"Regresar"}),Object(m.jsxs)("div",{className:"mainInfo",children:[Object(m.jsx)("div",{className:"mediaImg",style:{backgroundImage:"url(".concat(s,")")}}),Object(m.jsxs)("div",{className:"mediaDesc",children:[u,Object(m.jsx)("h1",{children:null!==i&&i.name}),Object(m.jsx)("div",{dangerouslySetInnerHTML:{__html:null!==i?i.summary:""}})]})]}),Object(m.jsxs)("div",{className:"aditionalInfo",children:[Object(m.jsxs)("div",{className:"showInfo",children:[Object(m.jsx)("h2",{children:"SHOW INFO"}),Object(m.jsxs)("p",{children:[Object(m.jsx)(y,{text:"Network: "}),null!==i&&(null!==i.network?i.network.country.name:"Not available")," ",null!==i&&(null!==i.network?i.network.name:" "),Object(m.jsx)("br",{}),Object(m.jsx)(y,{text:"Schedule: "}),null!==i&&i.schedule.days," at ",null!==i&&i.schedule.time," (",null!==i&&i.runtime," min)",Object(m.jsx)("br",{}),Object(m.jsx)(y,{text:"Status: "}),null!==i&&i.status,Object(m.jsx)("br",{}),Object(m.jsx)(y,{text:"Show Type: "}),null!==i&&i.type,Object(m.jsx)("br",{}),Object(m.jsx)(y,{text:"Genres: "}),null!==i&&i.genres.map((function(e){return"".concat(e," ")})),Object(m.jsx)("br",{}),Object(m.jsx)(y,{text:"Official site: "}),Object(m.jsx)("a",{href:null!==i?null!==(t=i.officialSite)&&void 0!==t?t:"Not available":void 0,about:"_blank",children:null!==i&&(null!==(n=i.officialSite)&&void 0!==n?n:"Not available")})]})]}),Object(m.jsx)("div",{className:"commentsSection",style:{width:"100%"},children:Object(m.jsx)(S,{showId:c})})]})]})})}n(22);function N(e){var t=e.busqueda,n=e.showId,c=e.setShowId,a=t.toLowerCase(),s="https://api.tvmaze.com/search/shows?q=".concat(a),o=g(s),r=o.data,i=o.isPending,l=o.error;return console.log(l),Object(m.jsxs)(m.Fragment,{children:[!0===i&&Object(m.jsx)(h,{}),null!==n&&Object(m.jsx)(C,{showId:n,setShowId:c}),Object(m.jsxs)("div",{className:"Contenedor",children:[null!==r&&null===n?r.map((function(e){return Object(m.jsx)(b,{setShowId:c,id:e.show.id,className:"Media",title:e.show.name,imgUrl:null!==e.show.image?e.show.image.original:"https://static.tvmaze.com/images/no-img/no-img-portrait-text.png"},e.show.id)})):Object(m.jsx)("span",{}),null!==r?Object(m.jsx)("h2",{style:{color:"white"},children:0===r.length?"No results found":""}):Object(m.jsx)("span",{}),null!==l&&Object(m.jsx)("h2",{style:{color:"white"},children:l.stack})]})]})}var k=function(){var e=Object(c.useState)(""),t=Object(r.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)(null),o=Object(r.a)(s,2),i=o[0],l=o[1],u=""!==n?Object(m.jsx)(N,{busqueda:n,showId:i,setShowId:l}):"";return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(j,{changeBusqueda:function(e){a(e)},busqueda:n,setShowId:l}),u,Object(m.jsx)(d,{})]})};o.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(k,{})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.e9045af0.chunk.js.map